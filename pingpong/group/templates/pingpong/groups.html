{% extends 'pingpong/base.html' %}

{% block additional_header %}
    <style>
        .player_group {
            display: inline-block;
            border: 1px solid black;
            vertical-align: top;
            margin: 5px;
            padding: 5px;
            min-width: 150px;
        }

        .player_group ul {
            list-style-type: none;
            -webkit-padding-start: 0;
        }

        .player_group .leader {
            font-weight: bold;
        }
    </style>
{% endblock %}

{% block subnavigation %}
    {% for c in categories %}
        <li{% if c.id == category.id %} class="active"{% endif %}>
            <a href="{% url 'groups_list' category_id=c.id %}">{{ c }}
                ({{ c.player_count }})</a>
        </li>
    {% endfor %}
{% endblock %}

{% block content %}
    <div class="panel panel-default">
        <div class="panel-heading">
            Skupine za kategorijo {{ category }} {% if not group_members %} se niso bile dolocene.{% endif %}
        </div>
        <div class="panel-body">
            {% regroup group_members by group as group_list %}
            {% for group in group_list %}
                <div class="player_group">
                    {{ group.grouper }}
                    <ul>
                        {% for member in group.list %}
                            <li{% if member.leader %} class="leader"{% endif %}>
                                {% if member.place %}{{ member.place }}.{% endif %} {{ member }}
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% empty %}
                <a class="btn btn-default" href="{% url 'groups_create' category_id=category.id %}">Doloci skupine</a>
            {% endfor %}
        </div>
        <div class="panel-footer">
            <a class="btn btn-default" href="{% url 'groups_delete' category_id=category.id %}">Ponovno doloci skupine</a>
        </div>
    </div>
{% endblock %}
{% load i18n %}
{% load pingpong_extras %}

{% panel %}
    {{ table.name }}
    {% body %}
    {% if match.group %}
        {{ match.group }}
    {% else %}
        <div style="height:80px">
            <div class="player1_score">
                {{ match.player1 }}

                <ul data-field='player1_score' class="score_choices">
                    <input type="hidden" id=player1_score" name="player1_score">
                    <li data-value="0">0</li>
                    <li data-value="1">1</li>
                    <li data-value="2">2</li>
                    <li data-value="3">3</li>
                </ul>
            </div>
            <div class="player2_score">
                {{ match.player2 }}

                <ul data-field='player2_score' class="score_choices">
                    <input type="hidden" id=player2_score" name="player2_score">
                    <li data-value="0">0</li>
                    <li data-value="1">1</li>
                    <li data-value="2">2</li>
                    <li data-value="3">3</li>
                </ul>
            </div>
        </div>
    {% endif %}
    {% footer %}
    <button class="btn btn-default">{% trans 'Save' %}</button>
{% endpanel %}
<script>
    $('.score_choices li').on('click', function (e) {
        var control = $(this).parent();
        var value = $(this).data('value');

        control.find('input').val(value);
        control.find('li').addClass("unselected");
        var selected_li = control.find('li[data-value='+value+']');
        selected_li.removeClass('unselected');
        selected_li.addClass('selected');
    });
</script>
